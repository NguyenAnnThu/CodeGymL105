<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <style>
        body{
            text-align: center;
            padding:10px;
            margin-top:10%;
            background-color:#ffe4e1;
            font-size: 15px;
            display: flex;
            justify-content: center;
            align-items: center;

        }
        .container{
            margin-top:-100px
        }
        table{
            width:100%;
            height:100%;

        }
        .about{
            display: flex;
            justify-content: space-between; /* gi√£n ƒë·ªÅu 2 ƒë·∫ßu */
            align-items: center; /* canh gi·ªØa theo chi·ªÅu d·ªçc */
            padding: 10px 20px; /* th√™m kho·∫£ng c√°ch trong */
            border-radius: 8px; /* bo g√≥c nh·∫π cho ƒë·∫πp */
            font-size: 18px;
        }
        .about div{
            margin: 0 50px;
        }
        #btn_set{
            font-size:20px;
        }
        #btn_set:hover{
            color: #f87d03;
        }
        #name{
            font-size:20px;
            color:#ba0606;
        }
        td {
            width:100px;
            height:100px;
            background: url(bear.jpg) center/cover no-repeat;
            cursor: pointer;
            text-align: center;
            vertical-align: middle;
            font-size: 40px;
            color:white;
            position: relative;
            z-index: 0;
            padding:20px;
        }
        .card {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 40px;
            user-select: none;
        }
        .Change{
            background-color: #fff0f5;
        }
        .win{
            border:1px solid #0c526a;
            background:url(winn1.jpg) center/cover no-repeat;
            font-size:20px;
            color: red;
            display:none;
            position: fixed;
            z-index: 9999;
            width: 300px;
            height:300px;
            top: 25%;
            left: 40%;
            transform: translate(-50%, -50%);
            padding:10px;
            box-shadow: 10px 10px #e4e4e4;
            border-radius: 15px;
            text-align: center;
            line-height: 30px;
        }
        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            50% { transform: translateX(10px); }
            75% { transform: translateX(-10px); }
            100% { transform: translateX(0); }
        }

        .shake {
            animation: shake 0.5s infinite;
        }

    </style>

</head>
<body>
    <div class="container">
      <div class="about">
          <a href="Game_Card.html" >
              <i class="fa-solid fa-arrow-left"></i>
          </a>
          <div id="name"> Memory Card Game</div>
          <div>
              <div>Score: <span id="score">0</span></div>
          </div>
          <div>Time: <span id="timer">03:00</span></div>
          <div class="audio" id="audio">
              <button id="sound">
                  <i id="icon" class="fas fa-volume-up"></i>
              </button>
              <audio id="Music" autoplay loop>
                  <source src="game-minecraft-gaming-background-music-402451.mp3" type="audio/mpeg">
              </audio>
          </div>
      </div>
            <table>
                <tr>
                    <td> </td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
            </table>
    </div>
    <div id="win" class="win">
        <div>Ch√∫c m·ª´ng b·∫°n ƒë√£ d√†nh chi·∫øn th·∫Øng</div>
        <div> Score: 8/8</div>
    </div>
    <audio id="winner">
        <source src="correct-156911.mp3" type="audio/mpeg">
    </audio>
    <audio id="wrong">
        <source src="error-04-199275.mp3" type="audio/mpeg">
    </audio>
    <audio id="end">
        <source src="you-win-sequence-2-183949.mp3" type="audio/mpeg">
    </audio>
    <audio id="timeout">
        <source src="clock-ticking-sound-effect-240503.mp3" type="audio/mpeg">
    </audio>
    <script  src="Rule_pop.js"></script>
<script>
    let values = ["üçé","üçå","üçá","üçí","üêª","üê∂","üöó","‚öΩ"];
    let cards = [...values, ...values];
    for (let i = cards.length - 1; i > 0; i--) {
        let j = Math.floor(Math.random() * (i + 1));
        [cards[i], cards[j]] = [cards[j], cards[i]];
    }
    let tds = document.querySelectorAll("td");
    cards.forEach((val, i) => {
        tds[i].innerHTML = `<div class="card" data-value="${val}">?</div>`;
    });

    let firstCard = null;
    let secondCard = null;
    let lock = false;
    let score = 0;
    let win=document.getElementById("win");
    let winner=document.getElementById("winner");
    let wrong=document.getElementById("wrong");
    let end=document.getElementById("end");
    tds.forEach(td => {
        td.addEventListener("click", () => {
            if (lock) return;
            let card = td.querySelector(".card");
            if (!card || card.classList.contains("Change")) return;
            card.textContent = card.dataset.value;
            card.classList.add("Change");

            if (!firstCard) {
                firstCard = card;
            } else {
                secondCard = card;
                lock = true;

                if (firstCard.dataset.value === secondCard.dataset.value) {
                    score++;
                    winner.currentTime = 0;
                    winner.play();
                    setTimeout(() =>{
                        winner.pause();
                        winner.currentTime = 0;
                    },2000);
                    document.getElementById("score").textContent = score;
                        if(score===8) {
                            win.style.display = "block";
                            music.pause()
                            end.play()
                            win.classList.add("shake")
                            let ask = setInterval(() => {
                                if (confirm("B·∫°n c√≥ mu·ªën ch∆°i l·∫°i kh√¥ng?")) {
                                    clearInterval(ask);
                                    location.reload();
                                }
                                else{
                                    end.play()
                                }
                            }, 5000);
                        }
                    firstCard = null;
                    secondCard = null;
                    lock = false;
                } else {
                        wrong.currentTime = 0;
                        wrong.play();
                        setTimeout(() =>{
                            wrong.pause();
                            wrong.currentTime = 0;
                        },2000);
                    setTimeout(() => {
                        firstCard.textContent = "?";
                        secondCard.textContent = "?";
                        firstCard.classList.remove("Change");
                        secondCard.classList.remove("Change");
                        firstCard = null;
                        secondCard = null;
                        lock = false;
                    }, 1000);
                }
            }
        });
    });



</script>
    <script src="Rule_pop.js"></script>
    <script src="Music_Game.js"></script>
    <script src="Time_Game.js"></script>
</body>
</html>